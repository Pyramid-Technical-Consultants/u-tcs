# User Management System (UMS)

The User Management System (UMS) maintains the database of users of the UTCS.

- R-UMS-1: User passwords shall be hashed and salted using the Argon2 algorithm.
- R-UMS-2: Users shall have the option to log in using an email and password.
- R-UMS-3: The UMS shall log all user authentication attempts, including successful and failed logins.

## Local User Module (LUM)

- R-UMS-LUM-1: The LUM shall store all user data in a single JSON file.
- R-UMS-LUM-2: The LUM shall encrypt the JSON file using AES-256 encryption.
- R-UMS-LUM-3: The LUM shall restrict access to the JSON file to authorized applications and processes only.

# Patient Management System (PMS)

The Patient Management System (PMS) maintains the database of patients available to the UTCS.

- R-PMS-1: The PMS shall store each patient as a unique object.
- R-PMS-2: The PMS shall use a unique ID for each patient.
- R-PMS-3: The PMS shall store the name of each patient.
- R-PMS-4: The PMS shall identify patients as QC subjects using a boolean.
- R-PMS-5: The PMS may store the birth date of each patient.
- R-PMS-6: The PMS may store the sex of each patient as male, female, or other.
- R-PMS-7: The PMS may include comments about each patient.
- R-PMS-8: The PMS shall allow searching for patients by ID, name, or QC status.
- R-PMS-9: The PMS shall not store patient data in non-volatile memory.
- R-PMS-10: The PMS shall log all patient data creation, updates, and retrieval actions.

## DICOM Patient Module (DPM)

The DICOM Patient Module (DPM) allows the UTCS to extract patient data from DICOM files.

- R-PMS-DPM-1: The DPM shall parse DICOM files to extract patient ID, name, birth date, and other information.
- R-PMS-DPM-2: The DPM shall handle DICOM files with multiple patients and extract each as a separate object.
- R-PMS-DPM-3: The DPM shall support local file uploads and remote DICOMweb services.
- R-PMS-DPM-4: The DPM shall verify the integrity of DICOM files upon upload and handle errors for corrupted or unsupported files.
- R-PMS-DPM-5: The DPM shall comply with DICOM standards for patient data handling and privacy.
- R-PMS-DPM-6: The DPM shall log all file uploads, parsing actions, and errors encountered.

# RT Ion Plan System (RIPS)

The RT Ion Plan System (RIPS) manages the data required for delivering RT ion beams in the UTCS and handles the extraction and processing of RT Ion Plan data from DICOM files.

- R-RIPS-1: The RIPS shall parse RT Ion Plan data from DICOM files to extract relevant treatment parameters.
- R-RIPS-2: The RIPS shall validate the integrity and completeness of the RT Ion Plan data before use.
- R-RIPS-3: The RIPS shall support various ion types, including protons and carbon ions, as specified in the RT Ion Plan.
- R-RIPS-4: The RIPS shall extract and store beam parameters, including energy, dose, spatial coordinates, and beam fractions.
- R-RIPS-5: The RIPS shall provide a read-only interface for visualizing the RT Ion Plan data, including beam paths, dose distributions, and beam fractions.
- R-RIPS-6: The RIPS shall ensure compliance with relevant DICOM standards for RT Ion Plan data handling and storage.
- R-RIPS-7: The RIPS shall support both local file uploads and remote DICOMweb services for accessing DICOM data.
- R-RIPS-8: The RIPS shall verify the integrity of DICOM files upon upload and handle errors for corrupted or unsupported files.
- R-RIPS-9: The RIPS shall log all actions related to RT Ion Plan data, including parsing, validation, and integrity checks.
- R-RIPS-10: The RIPS shall provide error handling and alert mechanisms for any discrepancies or issues found in the RT Ion Plan data or DICOM files.

# Logging Accountability Control System (LACS)

The Logging Accountability Control System (LACS) is responsible for securely storing and managing logs generated by the UTCS systems.

- R-LACS-1: The LACS shall provide secure storage for log files using AES-256 encryption to ensure confidentiality and integrity.
- R-LACS-2: The LACS shall support integration with a file server for secure, long-term storage and archival of log files.
- R-LACS-3: The LACS shall provide an interface for querying and reviewing log files, accessible only to authorized system administrators.
- R-LACS-4: The LACS shall comply with relevant standards for secure logging, such as Syslog or Common Event Format (CEF), for consistent log formatting and analysis.
